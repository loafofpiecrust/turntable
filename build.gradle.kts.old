import org.gradle.api.tasks.Delete
import org.gradle.kotlin.dsl.extra
import org.gradle.kotlin.dsl.maven
import org.gradle.kotlin.dsl.repositories
import org.gradle.kotlin.dsl.task
import org.gradle.kotlin.dsl.*

val kotlin_version: String by extra

group = "com.loafofpiecrust"
version = "0.1.0"

// Top-level build file where you can add configuration options common to all sub-projects/modules.

plugins {
    java
//    kotlin("jvm") version "1.2.51"
}

buildscript {
    var kotlin_version: String by extra
    kotlin_version = "1.2.51"
    repositories {
        google()
        jcenter()
        maven("https://oss.sonatype.org/content/repositories/snapshots")
//        maven { url 'https://jitpack.io' }
//        maven { url 'file:///home/snead/piecrust' }
    }
    dependencies {
        classpath("com.android.tools.build:gradle:3.1.3")
//        classpath("org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.51")

        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
        classpath("com.google.gms:google-services:+")

//        classpath("com.getkeepsafe.dexcount:dexcount-gradle-plugin:0.8.3-SNAPSHOT")
//        classpath(kotlin("gradle-plugin", kotlin_version))
        classpath(kotlinModule("gradle-plugin", kotlin_version))
    }
}

allprojects {

    repositories {
        google()
        jcenter()
        mavenCentral()
        maven("https://oss.sonatype.org/content/repositories/snapshots")
        maven("https://dl.bintray.com/ijabz/maven")
        maven("https://jitpack.io")
        maven("https://dl.bintray.com/kotlin/ktor")
//        maven { url 'file:///home/snead/piecrust' }
//        flatDir {
//            dirs 'libs'
//        }
    }

//    dependencies {
//        implementation(kotlin("stdlib-jdk8", kotlin_version))
//    }
}

dependencies {
    implementation(kotlin("stdlib-jdk8", "1.2.51"))
}
repositories {
    mavenCentral()
}